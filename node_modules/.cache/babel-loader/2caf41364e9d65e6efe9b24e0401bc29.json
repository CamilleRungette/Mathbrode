{"ast":null,"code":"var _jsxFileName = \"/home/lea/Desktop/mon-app/src/components/Myorders.js\";\nimport React, { Component } from \"react\";\nimport Navbar from '../components/Navbar';\nimport Footer from '../components/Footer';\nimport DateFormat from '../components/function';\nimport { Card, Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { Redirect, Link } from 'react-router-dom';\nimport ip from './ip';\n\nclass MyOrders extends Component {\n  constructor() {\n    super();\n    this.state = {\n      myOrders: [],\n      myPersoOrders: []\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props.user);\n    let ctx = this;\n    fetch(`${ip}/users/myorders?id=${this.props.user._id}`).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      ctx.setState({\n        myOrders: data.myOrders,\n        myPersoOrders: data.myPersoOrders\n      });\n      console.log(ctx.state.myPersoOrders);\n    }).catch(function (error) {\n      console.log('Request failed ->', error);\n    });\n  }\n\n  render() {\n    if (this.props.connected === false || this.props.connected === null) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      });\n    } else if (this.state.myOrders.length === 0) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          fontFamily: \"Raleway\",\n          height: \"75vh\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          height: \"10em\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\",\n          fontSize: \"3.3em\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Mes Commandes\")), React.createElement(\"div\", {\n        style: {\n          height: \"5em\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: \"2em\",\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Tu n'as pass\\xE9 aucune commande \"), React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Button, {\n        style: {\n          backgroundColor: \"#1B263B\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \" Retour\"), \" \"))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"div\", {\n        style: {\n          fontFamily: \"Raleway\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          height: '10em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\",\n          fontSize: \"3.3em\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Mes Commandes\")), React.createElement(\"div\", {\n        style: {\n          height: '5em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), this.state.myOrders.map((order, i) => React.createElement(Card, {\n        className: \"col-8 mx-auto\",\n        style: {\n          margin: \"5em\",\n          minWidth: '30em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Commande du \", DateFormat(order.date), \" \")), React.createElement(Card.Subtitle, {\n        className: \"mb-2 text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"# \", order._id, \" \"), React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"D\\xE9tails de la commande: \"), order.items.map((item, i) => React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Card, {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Card.Img, {\n        variant: \"top\",\n        className: \"my-auto\",\n        style: {\n          width: '12em',\n          maxHeight: '14em',\n          display: 'flex'\n        },\n        src: item.photo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(Card.Body, {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          marginLeft: \"2em\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        style: {\n          fontSize: '1.5em',\n          textDecoration: \"underline\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, item.name), React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, item.description, \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), item.price, \" \\u20AC\")))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Total: \", order.total, \" \\u20AC\"))))), React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\",\n          fontSize: \"3.3em\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Mes Commandes personnalis\\xE9es\")), React.createElement(\"div\", {\n        style: {\n          height: '5em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), this.state.myPersoOrders.map((order, i) => React.createElement(Card, {\n        className: \"col-8 mx-auto\",\n        style: {\n          margin: \"5em\",\n          minWidth: '30em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Commande du \", DateFormat(order.date), \" \")), React.createElement(Card.Subtitle, {\n        className: \"mb-2 text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"# \", order._id, \" \"), React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"D\\xE9tails de la commande: \"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Card, {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, order.photo != \"\" ? React.createElement(Card.Img, {\n        variant: \"top\",\n        className: \"my-auto\",\n        style: {\n          width: '12em',\n          maxHeight: '14em',\n          display: 'flex'\n        },\n        src: order.photo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: \"col-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Card.Body, {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          marginLeft: \"2em\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, order.description, \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), order.paid === false ? React.createElement(Link, {\n        to: \"/checkout\",\n        style: {\n          fontSize: \"1.2em\"\n        },\n        onClick: () => this.props.onOrderClick(order),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"\\xC0 payer\") : React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Pay\\xE9e\"))))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Total: \", order.total, \" \\u20AC\"))))), React.createElement(\"div\", {\n        style: {\n          height: '5em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nfunction mapStatetoProps(state) {\n  return {\n    connected: state.user.isUserExist,\n    user: state.user.userSigned\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  console.log(\"===============++>\", dispatch);\n  return {\n    onOrderClick: function (order) {\n      console.log(\"coucou\");\n      dispatch({\n        type: 'payPersoOrder',\n        persoOrder: order\n      });\n    }\n  };\n}\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(MyOrders);","map":{"version":3,"sources":["/home/lea/Desktop/mon-app/src/components/Myorders.js"],"names":["React","Component","Navbar","Footer","DateFormat","Card","Button","connect","Redirect","Link","ip","MyOrders","constructor","state","myOrders","myPersoOrders","componentDidMount","console","log","props","user","ctx","fetch","_id","then","response","json","data","setState","catch","error","render","connected","length","fontFamily","height","textAlign","fontSize","backgroundColor","map","order","i","margin","minWidth","date","items","item","width","display","maxHeight","photo","flexDirection","justifyContent","marginLeft","textDecoration","name","description","price","total","paid","onOrderClick","mapStatetoProps","isUserExist","userSigned","mapDispatchToProps","dispatch","type","persoOrder"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport Navbar from '../components/Navbar'\nimport Footer from '../components/Footer'\nimport DateFormat from '../components/function'\nimport {Card, Button} from 'react-bootstrap'\nimport { connect } from 'react-redux';\nimport {Redirect, Link} from 'react-router-dom'\nimport ip from './ip'\n\n \nclass MyOrders extends Component{\n  constructor(){\n    super();\n    this.state={\n      myOrders: [],\n      myPersoOrders: [],\n    }\n  }\n  componentDidMount(){\n    console.log(this.props.user)\n    let ctx = this;\n    fetch(`${ip}/users/myorders?id=${this.props.user._id}`)\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(data){\n      ctx.setState({myOrders: data.myOrders, myPersoOrders: data.myPersoOrders})\n      console.log(ctx.state.myPersoOrders)\n    })\n    .catch(function(error) {\n      console.log('Request failed ->', error)\n  });\n\n\n  }\n\n\n  render(){\n    if (this.props.connected === false || this.props.connected === null){\n      return <Redirect to=\"/\" />\n    }else if (this.state.myOrders.length === 0){\n      return(\n        <div>\n          <Navbar />\n          <div style={{fontFamily:\"Raleway\", height:\"75vh\"}}>\n          <div style={{height:\"10em\"}}></div>\n            <div style={{textAlign:\"center\", fontSize:\"3.3em\"}}>\n              <p>Mes Commandes</p>\n            </div>\n            <div style={{height:\"5em\"}}></div>\n\n          <div style={{fontSize:\"2em\", textAlign:\"center\"}}>\n            <p>Tu n'as passé aucune commande </p>\n           <Link to=\"/\"><Button style={{backgroundColor:\"#1B263B\"}}> Retour</Button> </Link>\n          </div>\n\n          </div>\n          <Footer />\n        </div>\n      )\n\n        } else{\n      return(\n      <div style={{fontFamily:\"Raleway\"}}>\n        <Navbar/>\n        <div style={{height:'10em'}}></div>\n        <div style={{textAlign:\"center\", fontSize:\"3.3em\"}}>\n              <p>Mes Commandes</p>\n            </div>\n        <div style={{height:'5em'}}></div>\n\n        {this.state.myOrders.map((order, i)=>(\n        <Card className=\"col-8 mx-auto\" style={{margin:\"5em\", minWidth:'30em' }} >\n          <Card.Body  >\n            <Card.Title><h1>Commande du {DateFormat(order.date)} </h1></Card.Title>\n            <Card.Subtitle className=\"mb-2 text-muted\"># {order._id} </Card.Subtitle>\n            <Card.Text>\n              <h4>Détails de la commande: </h4>\n              {order.items.map((item,i)=>(\n              <div>\n                <Card style={{ width:'100%'}}>\n                  <div style={{display:\"flex\"}}>\n                  <Card.Img  variant=\"top\" className=\"my-auto\" style={{width:'12em', maxHeight:'14em', display:'flex',}} src={item.photo} />\n                  <Card.Body style={{display:\"flex\", flexDirection:\"column\", justifyContent:\"center\", marginLeft:\"2em\"}}>\n                    <Card.Title style={{fontSize:'1.5em', textDecoration:\"underline\"}}>{item.name}</Card.Title>\n                    <Card.Text>\n                      {item.description} <br/>\n                      {item.price} €\n                    </Card.Text>\n                  </Card.Body>\n                  </div>\n                </Card>              \n                </div>\n              ))}\n              <br/>\n              <h4 style={{textAlign:\"center\"}}>Total: {order.total} €</h4>\n            </Card.Text>\n          </Card.Body>\n        </Card>\n        ))}\n\n<div style={{textAlign:\"center\", fontSize:\"3.3em\"}}>\n              <p>Mes Commandes personnalisées</p>\n            </div>\n        <div style={{height:'5em'}}></div>\n\n        {this.state.myPersoOrders.map((order, i)=>(\n        <Card className=\"col-8 mx-auto\" style={{margin:\"5em\", minWidth:'30em' }} >\n          <Card.Body  >\n            <Card.Title><h1>Commande du {DateFormat(order.date)} </h1></Card.Title>\n            <Card.Subtitle className=\"mb-2 text-muted\"># {order._id} </Card.Subtitle>\n            <Card.Text>\n              <h4>Détails de la commande: </h4>\n              <div>\n                <Card style={{ width:'100%'}}>\n                  <div style={{display:\"flex\"}}>\n                    {order.photo != \"\" ?(\n                      <Card.Img  variant=\"top\" className=\"my-auto\" style={{width:'12em', maxHeight:'14em', display:'flex',}} src={order.photo} />\n                    ):(\n                      <div className=\"col-1\"></div>\n                    )}\n                    <div>\n                      <Card.Body style={{display:\"flex\", flexDirection:\"column\", justifyContent:\"center\", marginLeft:\"2em\"}}>\n                        <Card.Text>\n                          {order.description} <br/><br/>\n                          {order.paid === false?(\n                            <Link to=\"/checkout\"  style={{fontSize:\"1.2em\"}} onClick={()=> this.props.onOrderClick(order)}>À payer</Link>\n                            ):(\n                              <p>Payée</p>\n                              )}\n                        </Card.Text>\n                      </Card.Body>\n                      </div>\n                    </div>\n                </Card>              \n                </div>\n              <br/>\n              <h4 style={{textAlign:\"center\"}}>Total: {order.total} €</h4>\n            </Card.Text>\n          </Card.Body>\n        </Card>\n        ))}\n\n\n        <div style={{height:'5em'}}></div>\n        <Footer />\n      </div>\n    )\n  }\n}}\n\nfunction mapStatetoProps(state){\n  return  {connected: state.user.isUserExist,\n          user: state.user.userSigned,\n          }\n}\n\nfunction mapDispatchToProps(dispatch){\n  console.log(\"===============++>\", dispatch)\n  return{\n    onOrderClick: function(order){\n      console.log(\"coucou\")\n      dispatch({type: 'payPersoOrder', persoOrder: order})\n    }\n  }\n}\n\n\nexport default connect(\n  mapStatetoProps,\n  mapDispatchToProps\n)(MyOrders);\n"]},"metadata":{},"sourceType":"module"}