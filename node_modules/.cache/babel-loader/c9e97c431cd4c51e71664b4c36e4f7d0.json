{"ast":null,"code":"var _jsxFileName = \"/home/lea/Desktop/mon-app/src/components/Service.js\";\nimport React, { Component } from 'react';\nimport { Row, Col, Card, CardText, CardBody, CardTitle, Button, CardLink, Input } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCut, faCalendarAlt, faHandshake } from '@fortawesome/free-solid-svg-icons';\nimport { Modal, Form } from 'react-bootstrap';\nimport '../App.css';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport ip from './ip';\nlet modalStyle = {\n  width: \"50em\",\n  backgroundColor: \"white\",\n  fontFamily: \"Raleway\"\n};\n\nclass Service extends Component {\n  constructor() {\n    super();\n    this.handleClose = this.handleClose.bind(this);\n    this.handleShow = this.handleShow.bind(this);\n    this.sendMessage = this.sendMessage.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n    this.uploadMessageImage = this.uploadMessageImage.bind(this);\n    this.state = {\n      show: false,\n      SendMessageContent: '',\n      SendMessageEmail: '',\n      SendMessagePhoto: '',\n      SendMessageName: ''\n    };\n  }\n\n  onDrop(picture) {\n    this.setState({\n      CreateItemPhoto: this.state.CreateItemPhoto.concat(picture)\n    });\n  }\n\n  sendMessage() {\n    this.setState({\n      show: false\n    });\n    fetch(`${ip}/users/create-message`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `object=Projet_personnalisé&content=${this.state.SendMessageContent}&sender_email=${this.state.SendMessageEmail}&photo=${this.state.SendMessagePhoto}&sender_name=${this.state.SendMessageName}`\n    });\n  }\n\n  handleClose() {\n    this.setState({\n      show: false\n    });\n  }\n\n  handleShow() {\n    this.setState({\n      show: true\n    });\n  }\n\n  async uploadMessageImage(e) {\n    const files = e.target.files;\n    const data = new FormData();\n    data.append('file', files[0]);\n    data.append('upload_preset', 'camille');\n    this.setState({\n      loading: true\n    });\n    const res = await fetch('https://api.cloudinary.com/v1_1/dduugb9jy/image/upload', {\n      method: 'POST',\n      body: data\n    });\n    const file = await res.json();\n    this.setState({\n      SendMessagePhoto: file.secure_url\n    });\n    this.setState({\n      loading: false\n    });\n  }\n\n  render() {\n    if (this.props.user) {\n      console.log(\"voila\", this.props.user);\n    }\n\n    return React.createElement(\"div\", {\n      style: {\n        fontFamily: 'Raleway',\n        marginBottom: \"10em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      style: {\n        fontSize: \"3.5em\",\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \" Mes Prestations\"), React.createElement(\"div\", {\n      style: {\n        height: \"10em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(Row, {\n      className: \"col-10 mx-auto\",\n      style: {\n        fontFamily: \"Raleway\",\n        display: \"flex\",\n        paddingLeft: '5%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Col, {\n      style: {\n        display: \"flex\",\n        marginBottom: \"3em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        cursor: \"pointer\",\n        backgroundColor: \"#EDF3F7\",\n        width: \"20em\",\n        height: \"15em\",\n        padding: \"1em\",\n        border: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(CardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginBottom: \"0.6em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/classes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(CardTitle, {\n      style: {\n        fontSize: \"1.2em\",\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Atelier d'initiation\"), \" \")), React.createElement(FontAwesomeIcon, {\n      icon: faCalendarAlt,\n      className: \"fa-2x\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })), React.createElement(CardText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Je vous propose de vous initier aux bases de la broderie pendant un cours de 2h. R\\xE9servez-votre cr\\xE9neau\")))), React.createElement(Col, {\n      style: {\n        display: \"flex\",\n        marginBottom: \"3em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        cursor: \"pointer\",\n        backgroundColor: \"#EDF3F7\",\n        width: \"20em\",\n        height: \"15em\",\n        padding: \"1em\",\n        border: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(CardBody, {\n      onClick: this.handleShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginBottom: \"0.6em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(CardLink, {\n      style: {\n        fontSize: \"1.2em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Projets personnalis\\xE9s\"), \" \"), React.createElement(FontAwesomeIcon, {\n      icon: faCut,\n      className: \"fa-2x\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(CardText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Une id\\xE9e de mod\\xE8le ? Vous pouvez me contacter pour des projets personnels. Dessins, pr\\xE9nom, couronnes .. Demandez-moi\")))), React.createElement(Col, {\n      style: {\n        display: \"flex\",\n        marginBottom: \"2em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        cursor: \"pointer\",\n        backgroundColor: \"#EDF3F7\",\n        width: \"20em\",\n        height: \"15em\",\n        padding: \"1em\",\n        border: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(CardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginBottom: \"0.6em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/events\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \" \", React.createElement(CardTitle, {\n      style: {\n        color: \"black\",\n        fontSize: \"1.2em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Rencontrez-moi\"), \" \"), \" \"), React.createElement(FontAwesomeIcon, {\n      icon: faHandshake,\n      className: \"fa-2x\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(CardText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Venez me rencontrer directement sur les march\\xE9s auxquels je participe r\\xE9guli\\xE8rement.\"))))), React.createElement(Modal, {\n      show: this.state.show,\n      onHide: this.handleClose,\n      className: \"col-lg-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: modalStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Message pour projet personnalis\\xE9\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, this.props.user == null ? React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Nom\",\n      onChange: e => this.setState({\n        SendMessageName: e.target.value\n      }),\n      value: this.state.SendMessageName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }) : React.createElement(Input, {\n      type: \"text\",\n      placeholder: \"Nom\",\n      value: this.props.user.first_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, this.props.user == null ? React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Email\",\n      onChange: e => this.setState({\n        SendMessageEmail: e.target.value\n      }),\n      value: this.state.SendMessageEmail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }) : React.createElement(Input, {\n      type: \"email\",\n      placeholder: \"Email\",\n      value: this.props.user.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    })))), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      as: \"textarea\",\n      placeholder: \"Message\",\n      onChange: e => this.setState({\n        SendMessageContent: e.target.value\n      }),\n      value: this.state.SendMessageContent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalPicture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Photo\"), React.createElement(Col, {\n      sm: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      placeholder: \"\",\n      onChange: this.uploadMessageImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    })), this.state.loading ? React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \" Chargement ...\") : React.createElement(\"img\", {\n      src: this.state.SendMessagePhoto,\n      alt: \"item chosen photo\",\n      style: {\n        width: \"10em\",\n        marginLeft: '8em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      style: {\n        backgroundColor: \"#1B263B\",\n        border: \"none\"\n      },\n      variant: \"secondary\",\n      onClick: this.sendMessage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Envoyer\")))));\n  }\n\n}\n\nfunction mapStatetoProps(state) {\n  return {\n    user: state.user.userSigned\n  };\n}\n\nexport default connect(mapStatetoProps, null)(Service);","map":{"version":3,"sources":["/home/lea/Desktop/mon-app/src/components/Service.js"],"names":["React","Component","Row","Col","Card","CardText","CardBody","CardTitle","Button","CardLink","Input","FontAwesomeIcon","faCut","faCalendarAlt","faHandshake","Modal","Form","Link","connect","ip","modalStyle","width","backgroundColor","fontFamily","Service","constructor","handleClose","bind","handleShow","sendMessage","onDrop","uploadMessageImage","state","show","SendMessageContent","SendMessageEmail","SendMessagePhoto","SendMessageName","picture","setState","CreateItemPhoto","concat","fetch","method","headers","body","e","files","target","data","FormData","append","loading","res","file","json","secure_url","render","props","user","console","log","marginBottom","fontSize","textAlign","height","display","paddingLeft","cursor","padding","border","justifyContent","color","value","first_name","email","marginLeft","mapStatetoProps","userSigned"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyBC,QAAzB,EAAmCC,QAAnC,EACEC,SADF,EACaC,MADb,EACqBC,QADrB,EAC+BC,KAD/B,QAC2C,YAD3C;AAEA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,KAAT,EAAgBC,aAAhB,EAA+BC,WAA/B,QAAkD,mCAAlD;AACA,SAAQC,KAAR,EAAeC,IAAf,QAA0B,iBAA1B;AACA,OAAO,YAAP;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,EAAP,MAAe,MAAf;AAGA,IAAIC,UAAU,GAAC;AACbC,EAAAA,KAAK,EAAC,MADO;AAEbC,EAAAA,eAAe,EAAE,OAFJ;AAGbC,EAAAA,UAAU,EAAE;AAHC,CAAf;;AAMA,MAAMC,OAAN,SAAsBvB,SAAtB,CAA+B;AAC/BwB,EAAAA,WAAW,GAAE;AACX;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKE,WAAL,GAAmB,KAAKA,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKG,MAAL,GAAc,KAAKA,MAAL,CAAYH,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKI,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBJ,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKK,KAAL,GAAW;AACTC,MAAAA,IAAI,EAAE,KADG;AAETC,MAAAA,kBAAkB,EAAE,EAFX;AAGTC,MAAAA,gBAAgB,EAAE,EAHT;AAITC,MAAAA,gBAAgB,EAAE,EAJT;AAKTC,MAAAA,eAAe,EAAC;AALP,KAAX;AAOD;;AAEDP,EAAAA,MAAM,CAACQ,OAAD,EAAU;AACd,SAAKC,QAAL,CAAc;AACVC,MAAAA,eAAe,EAAE,KAAKR,KAAL,CAAWQ,eAAX,CAA2BC,MAA3B,CAAkCH,OAAlC;AADP,KAAd;AAGD;;AAECT,EAAAA,WAAW,GAAE;AACX,SAAKU,QAAL,CAAc;AAACN,MAAAA,IAAI,EAAC;AAAN,KAAd;AACAS,IAAAA,KAAK,CAAE,GAAEvB,EAAG,uBAAP,EAA+B;AAClCwB,MAAAA,MAAM,EAAE,MAD0B;AAElCC,MAAAA,OAAO,EAAE;AAAC,wBAAe;AAAhB,OAFyB;AAGlCC,MAAAA,IAAI,EAAG,sCAAqC,KAAKb,KAAL,CAAWE,kBAAmB,iBAAgB,KAAKF,KAAL,CAAWG,gBAAiB,UAAS,KAAKH,KAAL,CAAWI,gBAAiB,gBAAe,KAAKJ,KAAL,CAAWK,eAAgB;AAHnK,KAA/B,CAAL;AAKD;;AAEDX,EAAAA,WAAW,GAAE;AACX,SAAKa,QAAL,CAAc;AAACN,MAAAA,IAAI,EAAE;AAAP,KAAd;AACD;;AAEDL,EAAAA,UAAU,GAAE;AACV,SAAKW,QAAL,CAAc;AAACN,MAAAA,IAAI,EAAC;AAAN,KAAd;AACD;;AAED,QAAMF,kBAAN,CAAyBe,CAAzB,EAA2B;AACzB,UAAMC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASD,KAAvB;AACA,UAAME,IAAI,GAAE,IAAIC,QAAJ,EAAZ;AACAD,IAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBJ,KAAK,CAAC,CAAD,CAAzB;AACAE,IAAAA,IAAI,CAACE,MAAL,CAAY,eAAZ,EAA6B,SAA7B;AACA,SAAKZ,QAAL,CAAc;AAACa,MAAAA,OAAO,EAAE;AAAV,KAAd;AACA,UAAMC,GAAG,GAAG,MAAMX,KAAK,CAAC,wDAAD,EAA2D;AAC9EC,MAAAA,MAAM,EAAE,MADsE;AAE9EE,MAAAA,IAAI,EAAEI;AAFwE,KAA3D,CAAvB;AAIA,UAAMK,IAAI,GAAG,MAAMD,GAAG,CAACE,IAAJ,EAAnB;AAEA,SAAKhB,QAAL,CAAc;AAACH,MAAAA,gBAAgB,EAAEkB,IAAI,CAACE;AAAxB,KAAd;AACA,SAAKjB,QAAL,CAAc;AAACa,MAAAA,OAAO,EAAE;AAAV,KAAd;AACD;;AAEDK,EAAAA,MAAM,GAAE;AACN,QAAI,KAAKC,KAAL,CAAWC,IAAf,EAAoB;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB,KAAKH,KAAL,CAAWC,IAAhC;AACD;;AAED,WACA;AAAK,MAAA,KAAK,EAAE;AAACpC,QAAAA,UAAU,EAAE,SAAb;AAAwBuC,QAAAA,YAAY,EAAC;AAArC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,KAAK,EAAE;AAACC,QAAAA,QAAQ,EAAC,OAAV;AAAmBC,QAAAA,SAAS,EAAC;AAA7B,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,EAGI;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,MAAM,EAAC;AAAR,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAOI,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAgC,MAAA,KAAK,EAAE;AAAE1C,QAAAA,UAAU,EAAC,SAAb;AAAwB2C,QAAAA,OAAO,EAAC,MAAhC;AAAwCC,QAAAA,WAAW,EAAC;AAApD,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,KAAK,EAAE;AAACD,QAAAA,OAAO,EAAC,MAAT;AAAgBJ,QAAAA,YAAY,EAAC;AAA7B,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAACM,QAAAA,MAAM,EAAC,SAAR;AAAmB9C,QAAAA,eAAe,EAAC,SAAnC;AAA8CD,QAAAA,KAAK,EAAC,MAApD;AAA4D4C,QAAAA,MAAM,EAAC,MAAnE;AAA2EI,QAAAA,OAAO,EAAC,KAAnF;AAA0FC,QAAAA,MAAM,EAAC;AAAjG,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAE;AAACJ,QAAAA,OAAO,EAAC,MAAT;AAAiBK,QAAAA,cAAc,EAAC,eAAhC;AAAiDT,QAAAA,YAAY,EAAC;AAA9D,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqB,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAC,OAAX;AAAoBS,QAAAA,KAAK,EAAC;AAA1B,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAvD,MAArB,CADA,EAEA,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAE3D,aAAvB;AAAsC,MAAA,SAAS,EAAC,OAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CADF,EAKI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uHALJ,CADF,CADF,CADF,EAaE,oBAAC,GAAD;AAAK,MAAA,KAAK,EAAE;AAACqD,QAAAA,OAAO,EAAC,MAAT;AAAiBJ,QAAAA,YAAY,EAAC;AAA9B,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAACM,QAAAA,MAAM,EAAC,SAAR;AAAmB9C,QAAAA,eAAe,EAAC,SAAnC;AAA8CD,QAAAA,KAAK,EAAC,MAApD;AAA4D4C,QAAAA,MAAM,EAAC,MAAnE;AAA2EI,QAAAA,OAAO,EAAC,KAAnF;AAA0FC,QAAAA,MAAM,EAAC;AAAjG,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD;AAAU,MAAA,OAAO,EAAE,KAAK1C,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAE;AAACsC,QAAAA,OAAO,EAAC,MAAT;AAAiBK,QAAAA,cAAc,EAAC,eAAhC;AAAiDT,QAAAA,YAAY,EAAC;AAA9D,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAC;AAAX,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAvC,MADA,EAEA,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEnD,KAAvB;AAA8B,MAAA,SAAS,EAAE,OAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CADF,EAKI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wIALJ,CADF,CADF,CAbF,EAyBE,oBAAC,GAAD;AAAK,MAAA,KAAK,EAAE;AAACsD,QAAAA,OAAO,EAAC,MAAT;AAAiBJ,QAAAA,YAAY,EAAC;AAA9B,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAACM,QAAAA,MAAM,EAAC,SAAR;AAAmB9C,QAAAA,eAAe,EAAC,SAAnC;AAA8CD,QAAAA,KAAK,EAAC,MAApD;AAA4D4C,QAAAA,MAAM,EAAC,MAAnE;AAA2EI,QAAAA,OAAO,EAAC,KAAnF;AAA0FC,QAAAA,MAAM,EAAC;AAAjG,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAE;AAACJ,QAAAA,OAAO,EAAC,MAAT;AAAiBK,QAAAA,cAAc,EAAC,eAAhC;AAAiDT,QAAAA,YAAY,EAAC;AAA9D,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAoB,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAAEU,QAAAA,KAAK,EAAE,OAAT;AAAkBT,QAAAA,QAAQ,EAAC;AAA3B,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAxD,MAApB,MADA,EAEA,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEjD,WAAvB;AAAoC,MAAA,SAAS,EAAE,OAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CADF,EAKG,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uGALH,CADF,CADF,CAzBF,CAPJ,EAiDG,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAE,KAAKkB,KAAL,CAAWC,IAAxB;AAA8B,MAAA,MAAM,EAAE,KAAKP,WAA3C;AAAwD,MAAA,SAAS,EAAC,WAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAEN,UAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,KAAD,CAAO,MAAP;AAAc,MAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CADF,CADD,EAIC,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKsC,KAAL,CAAWC,IAAX,IAAmB,IAAnB,GACC,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,MAAnB;AAA0B,MAAA,WAAW,EAAC,KAAtC;AAA4C,MAAA,QAAQ,EAAGb,CAAD,IAAM,KAAKP,QAAL,CAAc;AAACF,QAAAA,eAAe,EAAES,CAAC,CAACE,MAAF,CAASyB;AAA3B,OAAd,CAA5D;AACA,MAAA,KAAK,EAAE,KAAKzC,KAAL,CAAWK,eADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAIC,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,WAAW,EAAC,KAA/B;AAAqC,MAAA,KAAK,EAAE,KAAKqB,KAAL,CAAWC,IAAX,CAAgBe,UAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CADF,CADF,EAYE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKhB,KAAL,CAAWC,IAAX,IAAmB,IAAnB,GACC,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,OAAnB;AAA2B,MAAA,WAAW,EAAC,OAAvC;AAA+C,MAAA,QAAQ,EAAGb,CAAD,IAAM,KAAKP,QAAL,CAAc;AAACJ,QAAAA,gBAAgB,EAAEW,CAAC,CAACE,MAAF,CAASyB;AAA5B,OAAd,CAA/D;AACA,MAAA,KAAK,EAAE,KAAKzC,KAAL,CAAWG,gBADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAIC,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,WAAW,EAAC,OAAhC;AAAwC,MAAA,KAAK,EAAE,KAAKuB,KAAL,CAAWC,IAAX,CAAgBgB,KAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CADA,CAZF,CADF,EAyBE,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,mBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,EAAE,EAAC,UAAjB;AAA4B,MAAA,WAAW,EAAC,SAAxC;AAAkD,MAAA,QAAQ,EAAG7B,CAAD,IAAM,KAAKP,QAAL,CAAc;AAACL,QAAAA,kBAAkB,EAAEY,CAAC,CAACE,MAAF,CAASyB;AAA9B,OAAd,CAAlE;AACA,MAAA,KAAK,EAAE,KAAKzC,KAAL,CAAWE,kBADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAzBF,EA8BE,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,EAAE,EAAEhC,GAAhB;AAAqB,MAAA,SAAS,EAAC,uBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,MAAM,MAAlB;AAAmB,MAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEI,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAO,MAAA,IAAI,EAAC,MAAZ;AACA,MAAA,WAAW,EAAC,EADZ;AAEA,MAAA,QAAQ,EAAE,KAAK6B,kBAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CAFJ,EAQK,KAAKC,KAAL,CAAWoB,OAAX,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADD,GAGA;AAAK,MAAA,GAAG,EAAE,KAAKpB,KAAL,CAAWI,gBAArB;AAAuC,MAAA,GAAG,EAAC,mBAA3C;AAA+D,MAAA,KAAK,EAAE;AAACf,QAAAA,KAAK,EAAC,MAAP;AAAeuD,QAAAA,UAAU,EAAC;AAA1B,OAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXL,CA9BF,CADA,EA+CE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAACtD,QAAAA,eAAe,EAAC,SAAjB;AAA4BgD,QAAAA,MAAM,EAAC;AAAnC,OAAf;AAA2D,MAAA,OAAO,EAAC,WAAnE;AAA+E,MAAA,OAAO,EAAE,KAAKzC,WAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBA/CF,CAJD,CADF,CAjDH,CADA;AA+GD;;AA5K4B;;AAgL/B,SAASgD,eAAT,CAAyB7C,KAAzB,EAA+B;AAC7B,SAAQ;AAAC2B,IAAAA,IAAI,EAAE3B,KAAK,CAAC2B,IAAN,CAAWmB;AAAlB,GAAR;AACD;;AAED,eAAe5D,OAAO,CACpB2D,eADoB,EAEpB,IAFoB,CAAP,CAGbrD,OAHa,CAAf","sourcesContent":["import React, {Component} from 'react';\nimport { Row, Col, Card, CardText, CardBody,\n  CardTitle, Button, CardLink, Input} from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCut, faCalendarAlt, faHandshake } from '@fortawesome/free-solid-svg-icons'\nimport {Modal, Form} from 'react-bootstrap'\nimport '../App.css'\nimport {Link} from 'react-router-dom'\nimport {connect} from 'react-redux';\nimport ip from './ip'\n\n\nlet modalStyle={\n  width:\"50em\",\n  backgroundColor: \"white\",\n  fontFamily: \"Raleway\"\n}\n\nclass Service extends Component{\nconstructor(){\n  super();\n  this.handleClose = this.handleClose.bind(this)\n  this.handleShow = this.handleShow.bind(this)\n  this.sendMessage = this.sendMessage.bind(this)\n  this.onDrop = this.onDrop.bind(this);\n  this.uploadMessageImage = this.uploadMessageImage.bind(this);\n  this.state={\n    show: false,\n    SendMessageContent: '',\n    SendMessageEmail: '',\n    SendMessagePhoto: '',\n    SendMessageName:'', \n  }\n}\n\nonDrop(picture) {\n  this.setState({\n      CreateItemPhoto: this.state.CreateItemPhoto.concat(picture),\n  });\n}\n\n  sendMessage(){\n    this.setState({show:false});\n    fetch(`${ip}/users/create-message`, {\n      method: 'POST',\n      headers: {'Content-Type':'application/x-www-form-urlencoded'},\n      body: `object=Projet_personnalisé&content=${this.state.SendMessageContent}&sender_email=${this.state.SendMessageEmail}&photo=${this.state.SendMessagePhoto}&sender_name=${this.state.SendMessageName}`\n    })\n  }\n\n  handleClose(){\n    this.setState({show: false})\n  }\n\n  handleShow(){\n    this.setState({show:true})\n  }\n\n  async uploadMessageImage(e){\n    const files = e.target.files\n    const data= new FormData()\n    data.append('file', files[0])\n    data.append('upload_preset', 'camille')\n    this.setState({loading: true})\n    const res = await fetch('https://api.cloudinary.com/v1_1/dduugb9jy/image/upload', {\n        method: 'POST',\n        body: data\n      })\n    const file = await res.json()\n    \n    this.setState({SendMessagePhoto: file.secure_url})\n    this.setState({loading: false})\n  }\n\n  render(){\n    if (this.props.user){\n      console.log(\"voila\", this.props.user)\n    }\n\n    return(\n    <div style={{fontFamily: 'Raleway', marginBottom:\"10em\"}}>\n        <h1 style={{fontSize:\"3.5em\", textAlign:\"center\"}} > Mes Prestations</h1>\n\n        <div style={{height:\"10em\"}}></div>\n\n\n\n        <Row className=\"col-10 mx-auto\" style={{ fontFamily:\"Raleway\", display:\"flex\", paddingLeft:'5%'}}>\n          <Col style={{display:\"flex\",marginBottom:\"3em\"}}>\n            <Card style={{cursor:\"pointer\", backgroundColor:\"#EDF3F7\", width:\"20em\", height:\"15em\", padding:\"1em\", border:\"none\"}}>\n              <CardBody >\n                <div style={{display:\"flex\", justifyContent:\"space-between\", marginBottom:\"0.6em\"}} >\n                <Link to=\"/classes\" ><CardTitle style={{ fontSize:\"1.2em\", color:\"black\"}} ><strong>Atelier d'initiation</strong> </CardTitle></Link>\n                <FontAwesomeIcon icon={faCalendarAlt} className=\"fa-2x\"/>\n                </div>\n                  <CardText>Je vous propose de vous initier aux bases de la broderie pendant un cours de 2h. Réservez-votre créneau</CardText>\n                </CardBody>\n            </Card>\n          </Col>\n\n          <Col style={{display:\"flex\", marginBottom:\"3em\"}}>\n            <Card style={{cursor:\"pointer\", backgroundColor:\"#EDF3F7\", width:\"20em\", height:\"15em\", padding:\"1em\", border:\"none\"}}>\n              <CardBody onClick={this.handleShow} >\n                <div style={{display:\"flex\", justifyContent:\"space-between\", marginBottom:\"0.6em\"}} >\n                <CardLink style={{ fontSize:\"1.2em\"}} ><strong>Projets personnalisés</strong> </CardLink>\n                <FontAwesomeIcon icon={faCut} className={\"fa-2x\"}/>\n                </div>\n                  <CardText>Une idée de modèle ? Vous pouvez me contacter pour des projets personnels. Dessins, prénom, couronnes .. Demandez-moi</CardText>\n                </CardBody>\n            </Card>\n          </Col>\n\n          <Col style={{display:\"flex\", marginBottom:\"2em\"}}>\n            <Card style={{cursor:\"pointer\", backgroundColor:\"#EDF3F7\", width:\"20em\", height:\"15em\", padding:\"1em\", border:\"none\"}}>\n              <CardBody >\n                <div style={{display:\"flex\", justifyContent:\"space-between\", marginBottom:\"0.6em\"}} >\n                <Link to=\"/events\"> <CardTitle style={{ color: \"black\", fontSize:\"1.2em\"}} ><strong>Rencontrez-moi</strong> </CardTitle> </Link>\n                <FontAwesomeIcon icon={faHandshake} className={\"fa-2x\"}/>\n                </div>\n                 <CardText>Venez me rencontrer directement sur les marchés auxquels je participe régulièrement.</CardText>\n                </CardBody>\n            </Card>\n          </Col>\n\n        </Row>\n\n \n     \n       \n       <Modal show={this.state.show} onHide={this.handleClose} className=\"col-lg-10\" >\n         <div style={modalStyle}>\n          <Modal.Header closeButton>\n            <Modal.Title>Message pour projet personnalisé</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n          <Form>\n            <Row>\n              <Col>\n                <Form.Group>\n                  {this.props.user == null?(\n                    <Form.Control type=\"text\" placeholder=\"Nom\" onChange={(e)=> this.setState({SendMessageName: e.target.value})}\n                    value={this.state.SendMessageName} />\n                  ):(\n                    <Input type=\"text\" placeholder=\"Nom\" value={this.props.user.first_name} />\n                  )}\n                </Form.Group>\n              </Col>\n\n              <Col>\n              <Form.Group>\n                {this.props.user == null ? (\n                  <Form.Control type=\"email\" placeholder=\"Email\" onChange={(e)=> this.setState({SendMessageEmail: e.target.value})}\n                  value={this.state.SendMessageEmail} />\n                ):(\n                  <Input type=\"email\" placeholder=\"Email\" value={this.props.user.email} />\n                )}\n              </Form.Group>\n              </Col>\n            </Row>\n\n            <Form.Group controlId=\"formBasicPassword\">\n              <Form.Control as=\"textarea\" placeholder=\"Message\" onChange={(e)=> this.setState({SendMessageContent: e.target.value})} \n              value={this.state.SendMessageContent} />\n            </Form.Group>\n\n            <Form.Group as={Row} controlId=\"formHorizontalPicture\">\n              <Form.Label column sm={2}>Photo</Form.Label>\n                <Col sm={10}>\n                <input type=\"file\"\n                placeholder=\"\"\n                onChange={this.uploadMessageImage} \n                />\n                  </Col>  \n                {this.state.loading ? (\n                  <h6> Chargement ...</h6>\n                ) : (\n                 <img src={this.state.SendMessagePhoto} alt=\"item chosen photo\" style={{width:\"10em\", marginLeft:'8em'}} />\n                )}\n            </Form.Group>\n\n          </Form>\n            <Button style={{backgroundColor:\"#1B263B\", border:\"none\"}} variant=\"secondary\" onClick={this.sendMessage}>\n              Envoyer\n            </Button>\n          </Modal.Body>\n         </div>\n       </Modal>\n       \n        </div>\n    )\n  }\n}\n\n\nfunction mapStatetoProps(state){\n  return  {user: state.user.userSigned}\n}\n\nexport default connect(\n  mapStatetoProps,\n  null\n)(Service)"]},"metadata":{},"sourceType":"module"}