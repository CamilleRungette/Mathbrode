{"ast":null,"code":"var _jsxFileName = \"/home/lea/Desktop/mon-app/src/components/ItemPresentation.js\";\nimport React from 'react';\nimport { Button } from 'reactstrap';\nimport '../App.css';\nimport { Col, Row, Form, FormGroup, Input } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport Footer from './Footer';\nimport { connect } from 'react-redux';\nimport ip from './ip';\n\nclass ItemPresentation extends React.Component {\n  constructor(props) {\n    super(props);\n    this.sendMessage = this.sendMessage.bind(this);\n    this.state = {\n      name: '',\n      desc: '',\n      copy: '',\n      photo: '',\n      price: '',\n      shipping_fee: '',\n      size: '',\n      userName: '',\n      userEmail: '',\n      content: '',\n      item_id: '',\n      item: []\n    };\n    console.log(\"PROPS\", this.props.match.params.id);\n  }\n\n  componentDidMount() {\n    let ctx = this;\n    fetch(`${ip}/find-items?name=${this.props.match.params.id}`).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      ctx.setState({\n        name: data.thisItem.name,\n        desc: data.thisItem.description,\n        copy: data.thisItem.copy,\n        photo: data.thisItem.photo,\n        price: data.thisItem.price,\n        shipping_fee: data.thisItem.shipping_fee,\n        size: data.thisItem.size,\n        item_id: data.thisItem._id,\n        item: data.thisItem\n      });\n    });\n  }\n\n  sendMessage() {\n    if (this.props.user == null) {\n      fetch(`${ip}/users/create-message`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: `object=${this.props.match.params.id}&content=${this.state.content}&sender_email=${this.state.userEmail}&sender_name=${this.state.userName}&item_id=${this.state.item_id}`\n      });\n    } else if (this.props.user != null) {\n      fetch(`${ip}/users/create-message`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: `object=${this.props.match.params.id}&content=${this.state.content}&sender_email=${this.props.user.email}&sender_name=${this.props.user.first_name}&item_id=${this.state.item_id}&user_id=${this.props.user._id}`\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      style: {\n        fontFamily: \"Raleway\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        height: \"10em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        textAlign: \"center\",\n        fontSize: \"4em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.state.name)), React.createElement(\"div\", {\n      className: \"row col-lx-6 col-lg-9 col-xs-11 border\",\n      style: {\n        margin: \"auto\",\n        fontSize: '1.1em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"hover mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"zoom \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.photo,\n      className: \" col-lg-8\",\n      style: {\n        height: \"40em\",\n        objectFit: \"contain\",\n        margin: \"auto\"\n      },\n      alt: \"Alt text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-sm-11 col-md-10\",\n      style: {\n        margin: \"auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: 8,\n      style: {\n        maxWidth: '28em',\n        margin: 'auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        fontSize: \"1em\",\n        marginBottom: \"2rem\",\n        height: \"8em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.state.desc)), React.createElement(Col, {\n      lg: 4,\n      style: {\n        minWidth: '10em',\n        maxWidth: '15em',\n        margin: \"auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        fontSize: \"1.2em\",\n        marginBottom: \"2rem\",\n        padding: \"0.5rem\",\n        backgroundColor: \"#1b263b\",\n        color: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Info Pratiques :\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), \"Prix: \", this.state.price, \"\\u20AC\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), \"Exemplaire: \", this.state.copy, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), \"Taille: \", this.state.size))), React.createElement(\"div\", {\n      className: \"d-flex justify-content-center my-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/items\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"secondary\",\n      style: {\n        marginRight: \"2em\",\n        fontSize: '1.2em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \" Retour \")), this.props.user == null ? React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Button, {\n      style: {\n        backgroundColor: \"#1b263b\",\n        fontSize: '1.2em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Ajouter au panier\")) : React.createElement(Button, {\n      onClick: () => this.props.onBuyClick(this.state.item),\n      style: {\n        backgroundColor: \"#1b263b\",\n        fontSize: '1.2em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Ajouter au panier\")))), React.createElement(\"div\", {\n      className: \"text-block-black-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Une Question?\")), React.createElement(Form, {\n      className: \"col-lg-9 mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Row, {\n      form: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, this.props.user == null ? React.createElement(Input, {\n      type: \"text\",\n      placeholder: \"Nom\",\n      onChange: e => this.setState({\n        userName: e.target.value\n      }),\n      value: this.state.userName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }) : React.createElement(Input, {\n      type: \"text\",\n      placeholder: \"Nom\",\n      value: this.props.user.first_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }))), React.createElement(Col, {\n      lg: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, this.props.user == null ? React.createElement(Input, {\n      type: \"Email\",\n      placeholder: \"Email\",\n      onChange: e => this.setState({\n        userEmail: e.target.value\n      }),\n      value: this.state.userEmail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }) : React.createElement(Input, {\n      type: \"email\",\n      placeholder: \"Email\",\n      value: this.props.user.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })))), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"textarea\",\n      rows: \"4\",\n      name: \"Message\",\n      placeholder: \"Message\",\n      onChange: e => this.setState({\n        content: e.target.value\n      }),\n      value: this.state.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(Button, {\n      style: {\n        backgroundColor: \"#1b263b\"\n      },\n      onClick: this.sendMessage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Envoyer\"), \" \")), React.createElement(\"div\", {\n      style: {\n        height: \"5em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    })))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }));\n  }\n\n}\n\nfunction mapStatetoProps(state) {\n  console.log(state);\n  return {\n    user: state.user.userSigned\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onBuyClick: function (data) {\n      console.log(\"info envoyée au reducer\", data);\n      dispatch({\n        type: 'carted',\n        item: data\n      });\n    }\n  };\n}\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(ItemPresentation);","map":{"version":3,"sources":["/home/lea/Desktop/mon-app/src/components/ItemPresentation.js"],"names":["React","Button","Col","Row","Form","FormGroup","Input","Link","Navbar","Footer","connect","ip","ItemPresentation","Component","constructor","props","sendMessage","bind","state","name","desc","copy","photo","price","shipping_fee","size","userName","userEmail","content","item_id","item","console","log","match","params","id","componentDidMount","ctx","fetch","then","response","json","data","setState","thisItem","description","_id","user","method","headers","body","email","first_name","render","fontFamily","height","textAlign","fontSize","margin","objectFit","maxWidth","display","alignItems","marginBottom","minWidth","padding","backgroundColor","color","marginRight","onBuyClick","e","target","value","mapStatetoProps","userSigned","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React  from 'react';\nimport {  Button} from 'reactstrap';\nimport '../App.css'\nimport { Col, Row, Form, FormGroup, Input } from 'reactstrap';\nimport {Link} from 'react-router-dom';\nimport Navbar from './Navbar';\nimport Footer from './Footer'\nimport {connect} from 'react-redux'\nimport ip from './ip'\n\nclass ItemPresentation extends React.Component {\n  constructor(props){\n    super(props);\n    this.sendMessage = this.sendMessage.bind(this)\n    this.state={\n      name: '',\n      desc: '',\n      copy:'',\n      photo: '',\n      price: '',\n      shipping_fee: '',\n      size:'',\n      userName: '',\n      userEmail: '',\n      content: '',\n      item_id: '',\n      item:[],\n        }\n    console.log(\"PROPS\", this.props.match.params.id)  \n  }\n\n  componentDidMount(){\n    let ctx = this\n  fetch(`${ip}/find-items?name=${this.props.match.params.id}`)\n      .then(function(response) {\n        return response.json();\n      })\n      .then(function(data){\n        ctx.setState({\n          name: data.thisItem.name,\n          desc: data.thisItem.description,\n          copy: data.thisItem.copy,\n          photo: data.thisItem.photo,\n          price: data.thisItem.price,\n          shipping_fee: data.thisItem.shipping_fee,\n          size: data.thisItem.size,\n          item_id: data.thisItem._id,\n          item: data.thisItem\n        })\n      })\n    }\n\n    sendMessage(){\n      if (this.props.user == null){\n      fetch(`${ip}/users/create-message`,{\n        method: 'POST',\n        headers: {'Content-Type':'application/x-www-form-urlencoded'},\n        body: `object=${this.props.match.params.id}&content=${this.state.content}&sender_email=${this.state.userEmail}&sender_name=${this.state.userName}&item_id=${this.state.item_id}`\n      })} else if (this.props.user != null){\n        fetch(`${ip}/users/create-message`,{\n          method: 'POST',\n          headers: {'Content-Type':'application/x-www-form-urlencoded'},\n          body: `object=${this.props.match.params.id}&content=${this.state.content}&sender_email=${this.props.user.email}&sender_name=${this.props.user.first_name}&item_id=${this.state.item_id}&user_id=${this.props.user._id}`\n      })\n    }\n  }\n\n    render() {\n   return(\n<div>\n  <Navbar/>\n    <div className=\"row justify-content-center\" style={{fontFamily:\"Raleway\"}}>\n      <div className=\"col-lg-10\" >\n      <div style={{height:\"10em\"}}></div>\n        <div>\n          <p style={{textAlign:\"center\", fontSize:\"4em\"}}>{this.state.name}</p>\n        </div>\n\n        <div className=\"row col-lx-6 col-lg-9 col-xs-11 border\" style={{margin:\"auto\", fontSize:'1.1em'}} >\n        <div class=\"hover mb-3\">\n          <div class=\"zoom \">\n            <img src={this.state.photo} className=\" col-lg-8\" style={{height:\"40em\", objectFit:\"contain\", margin:\"auto\"}} alt=\"Alt text\" />\n          </div>\n        </div>\n          <div className=\"col-sm-11 col-md-10\" style={{margin:\"auto\"}}>\n              <Row> \n                <Col lg={8} style={{maxWidth:'28em', margin:'auto'}}>          \n                  <p style={{display:\"flex\", alignItems:\"center\", fontSize:\"1em\",marginBottom: \"2rem\", height:\"8em\"}}>{this.state.desc}</p>\n                </Col>\n                <Col lg={4} style={{minWidth:'10em', maxWidth:'15em', margin:\"auto\"}}>\n                  <p style={{ fontSize:\"1.2em\",marginBottom: \"2rem\",padding:\"0.5rem\" ,backgroundColor:\"#1b263b\",color:\"white\"}}>Info Pratiques :<br/>\n                  Prix: {this.state.price}€<br/>\n                  Exemplaire: {this.state.copy}<br/>\n                  Taille: {this.state.size}\n                  </p>\n                </Col>\n            </Row>          \n              <div className=\"d-flex justify-content-center my-4\" >\n              <Link to=\"/items\"><Button color=\"secondary\" style={{marginRight:\"2em\", fontSize:'1.2em'}}> Retour </Button></Link>\n                {this.props.user == null ? (\n                  <Link to=\"/login\" ><Button style={{backgroundColor:\"#1b263b\", fontSize:'1.2em'}}>Ajouter au panier</Button></Link>\n                ):(\n                  <Button onClick={() => this.props.onBuyClick(this.state.item)} style={{backgroundColor:\"#1b263b\", fontSize:'1.2em'}}>Ajouter au panier</Button>\n                )}\n              </div>\n          </div>\n        </div>\n\n            <div className=\"text-block-black-small\">\n              <p>Une Question?</p>\n            </div>\n            <Form className=\"col-lg-9 mx-auto\">\n              <Row form>\n                <Col lg={6}>\n                  <FormGroup>\n                    {this.props.user == null ?(\n                      <Input type=\"text\" placeholder=\"Nom\" onChange={(e)=> this.setState({userName: e.target.value})}\n                      value={this.state.userName}/>\n                    ):(\n                      <Input type=\"text\" placeholder=\"Nom\" value={this.props.user.first_name}/>\n                    )}\n                  </FormGroup>\n                </Col>\n                <Col lg={6}>\n                  <FormGroup>\n                    {this.props.user == null ?(\n                      <Input type=\"Email\" placeholder=\"Email\" onChange={(e)=> this.setState({userEmail: e.target.value})}\n                      value={this.state.userEmail} />\n                    ):(\n                      <Input type=\"email\" placeholder=\"Email\" value={this.props.user.email} />\n                    )}\n                  </FormGroup>\n                </Col>\n              </Row>\n              <FormGroup>\n                <Input type=\"textarea\" rows=\"4\" name=\"Message\" placeholder=\"Message\"  onChange={(e)=> this.setState({content: e.target.value})}\n                value={this.state.content} />\n              </FormGroup>\n              <div className=\"d-flex justify-content-center\" >\n                <Link to=\"/\"><Button  style={{backgroundColor:\"#1b263b\"}} onClick={this.sendMessage}>Envoyer</Button> </Link> \n              </div>\n            <div style={{height:\"5em\"}}></div>\n            </Form>\n      </div>\n    </div>\n  <Footer/>\n</div>\n)}\n}\n\nfunction mapStatetoProps(state){\n  console.log(state)\n  return  {user: state.user.userSigned}\n}\n\nfunction mapDispatchToProps(dispatch){\n  return{\n    onBuyClick: function(data){\n      console.log(\"info envoyée au reducer\", data)\n      dispatch({type: 'carted', item: data})\n    }\n  }\n}\n\n\nexport default connect(\n  mapStatetoProps,\n  mapDispatchToProps\n)(ItemPresentation);\n"]},"metadata":{},"sourceType":"module"}