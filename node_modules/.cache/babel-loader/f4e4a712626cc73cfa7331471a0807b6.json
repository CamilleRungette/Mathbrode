{"ast":null,"code":"var _jsxFileName = \"/home/lea/Desktop/mon-app/src/components/Login.js\";\nimport React from 'react';\nimport { Button, Col, Row, Form } from 'react-bootstrap';\nimport '../App.css';\nimport Navbar from './Navbar';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport ip from './ip';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.handleSubmitSignUp = this.handleSubmitSignUp.bind(this);\n    this.handleSubmitSignIn = this.handleSubmitSignIn.bind(this);\n    this.state = {\n      newUserFirstName: '',\n      newUserLastName: '',\n      newUserEmail: '',\n      newUserPassword: '',\n      SignInEmail: '',\n      SignInPassword: '',\n      isUserExist: false\n    };\n  }\n\n  handleSubmitSignUp() {\n    let ctx = this;\n    fetch(`${ip}/users/sign-up`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `first_name=${this.state.newUserFirstName}&last_name=${this.state.newUserLastName}&email=${this.state.newUserEmail}&password=${this.state.newUserPassword}`\n    }).then(function (response, err) {\n      return response.json();\n    }).then(data => {\n      if (data.isUserExists === false) {\n        ctx.setState({\n          isUserExist: true\n        });\n      }\n\n      ctx.props.onSiginClick(data.user, this.state.isUserExist);\n    });\n  }\n\n  handleSubmitSignIn() {\n    let ctx = this;\n    fetch(`${ip}/users/sign-in`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `email=${this.state.SignInEmail}&password=${this.state.SignInPassword}`\n    }).then(function (response, err) {\n      return response.json();\n    }).then(data => {\n      if (data.isUserExists === true) {\n        ctx.setState({\n          isUserExist: true\n        });\n      }\n\n      ctx.props.onSiginClick(data.userExists, this.state.isUserExist);\n    });\n  }\n\n  render() {\n    if (this.state.isUserExist === true) {\n      console.log(\"CONDITION:\", this.state.isUserExist);\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      style: {\n        position: \"absolute\",\n        top: \"0px\",\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"container\",\n      style: {\n        marginTop: '5em',\n        fontFamily: \"Raleway\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        height: \"10em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(Row, {\n      style: {\n        justifyContent: \"space-around\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: 5,\n      xs: 11,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: {\n        marginBottom: \"2em\",\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Se connecter\"), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Email\"), React.createElement(Form.Control, {\n      type: \"email\",\n      onChange: e => this.setState({\n        SignInEmail: e.target.value\n      }),\n      value: this.state.SignInEmail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Mot de passe\"), React.createElement(Form.Control, {\n      type: \"password\",\n      onChange: e => this.setState({\n        SignInPassword: e.target.value\n      }),\n      value: this.state.SignInPassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      style: {\n        backgroundColor: \"#1B263B\",\n        border: \"none\"\n      },\n      variant: \"secondary\",\n      onClick: this.handleSubmitSignIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Se Connecter\")), React.createElement(Col, {\n      lg: 5,\n      xs: 11,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: {\n        marginBottom: \"2em\",\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"S'inscrire\"), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Pr\\xE9nom \"), React.createElement(Form.Control, {\n      type: \"text\",\n      onChange: e => this.setState({\n        newUserFirstName: e.target.value\n      }),\n      value: this.state.newUserFirstName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Nom\"), React.createElement(Form.Control, {\n      type: \"text\",\n      onChange: e => this.setState({\n        newUserLastName: e.target.value\n      }),\n      value: this.state.newUserLastName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })))), React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Email\"), React.createElement(Form.Control, {\n      type: \"email\",\n      onChange: e => this.setState({\n        newUserEmail: e.target.value\n      }),\n      value: this.state.newUserEmail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Mot de passe\"), React.createElement(Form.Control, {\n      type: \"password\",\n      onChange: e => this.setState({\n        newUserPassword: e.target.value\n      }),\n      value: this.state.newUserPassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      style: {\n        backgroundColor: \"#1B263B\",\n        border: \"none\"\n      },\n      variant: \"secondary\",\n      onClick: this.handleSubmitSignUp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"S'inscrire\")))));\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onSiginClick: function (data, isUserExist) {\n      dispatch({\n        type: 'signin',\n        userSigned: data,\n        isUserExist\n      });\n    }\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/lea/Desktop/mon-app/src/components/Login.js"],"names":["React","Button","Col","Row","Form","Navbar","Redirect","connect","ip","Login","Component","constructor","handleSubmitSignUp","bind","handleSubmitSignIn","state","newUserFirstName","newUserLastName","newUserEmail","newUserPassword","SignInEmail","SignInPassword","isUserExist","ctx","fetch","method","headers","body","then","response","err","json","data","isUserExists","setState","props","onSiginClick","user","userExists","render","console","log","position","top","width","marginTop","fontFamily","height","justifyContent","marginBottom","textAlign","e","target","value","backgroundColor","border","mapDispatchToProps","dispatch","type","userSigned"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAmBC,GAAnB,EAAwBC,GAAxB,EAA6BC,IAA7B,QAAwC,iBAAxC;AACA,OAAO,YAAP;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAAQC,QAAR,QAAwB,kBAAxB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,EAAP,MAAe,MAAf;;AAGA,MAAMC,KAAN,SAAoBT,KAAK,CAACU,SAA1B,CAAmC;AAC/BC,EAAAA,WAAW,GAAE;AACjB;AACA,SAAKC,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBC,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKC,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBD,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKE,KAAL,GAAa;AACRC,MAAAA,gBAAgB,EAAC,EADT;AAERC,MAAAA,eAAe,EAAE,EAFT;AAGRC,MAAAA,YAAY,EAAE,EAHN;AAIRC,MAAAA,eAAe,EAAE,EAJT;AAKPC,MAAAA,WAAW,EAAC,EALL;AAMPC,MAAAA,cAAc,EAAC,EANR;AAOPC,MAAAA,WAAW,EAAE;AAPN,KAAb;AASC;;AAECV,EAAAA,kBAAkB,GAAE;AAClB,QAAIW,GAAG,GAAG,IAAV;AACAC,IAAAA,KAAK,CAAE,GAAEhB,EAAG,gBAAP,EAAuB;AAC5BiB,MAAAA,MAAM,EAAC,MADqB;AAE5BC,MAAAA,OAAO,EAAE;AAAC,wBAAe;AAAhB,OAFmB;AAG5BC,MAAAA,IAAI,EAAE,cAAa,KAAKZ,KAAL,CAAWC,gBAAiB,cAAa,KAAKD,KAAL,CAAWE,eAAgB,UAAS,KAAKF,KAAL,CAAWG,YAAa,aAAY,KAAKH,KAAL,CAAWI,eAAgB;AAHnI,KAAvB,CAAL,CAKCS,IALD,CAKM,UAASC,QAAT,EAAmBC,GAAnB,EAAuB;AAC3B,aAAOD,QAAQ,CAACE,IAAT,EAAP;AACD,KAPD,EAOGH,IAPH,CAOQI,IAAI,IAAE;AACZ,UAAIA,IAAI,CAACC,YAAL,KAAsB,KAA1B,EAAiC;AAC/BV,QAAAA,GAAG,CAACW,QAAJ,CAAa;AAACZ,UAAAA,WAAW,EAAE;AAAd,SAAb;AACD;;AACHC,MAAAA,GAAG,CAACY,KAAJ,CAAUC,YAAV,CAAuBJ,IAAI,CAACK,IAA5B,EAAkC,KAAKtB,KAAL,CAAWO,WAA7C;AACC,KAZD;AAaD;;AAGCR,EAAAA,kBAAkB,GAAE;AAClB,QAAIS,GAAG,GAAG,IAAV;AACFC,IAAAA,KAAK,CAAE,GAAEhB,EAAG,gBAAP,EAAuB;AAC5BiB,MAAAA,MAAM,EAAC,MADqB;AAE5BC,MAAAA,OAAO,EAAE;AAAC,wBAAe;AAAhB,OAFmB;AAG5BC,MAAAA,IAAI,EAAG,SAAQ,KAAKZ,KAAL,CAAWK,WAAY,aAAY,KAAKL,KAAL,CAAWM,cAAe;AAHhD,KAAvB,CAAL,CAKDO,IALC,CAKI,UAASC,QAAT,EAAmBC,GAAnB,EAAuB;AAC3B,aAAOD,QAAQ,CAACE,IAAT,EAAP;AACD,KAPC,EAOCH,IAPD,CAOMI,IAAI,IAAE;AACV,UAAIA,IAAI,CAACC,YAAL,KAAsB,IAA1B,EAAgC;AAC9BV,QAAAA,GAAG,CAACW,QAAJ,CAAa;AAACZ,UAAAA,WAAW,EAAE;AAAd,SAAb;AACD;;AACDC,MAAAA,GAAG,CAACY,KAAJ,CAAUC,YAAV,CAAuBJ,IAAI,CAACM,UAA5B,EAAwC,KAAKvB,KAAL,CAAWO,WAAnD;AACD,KAZD;AAaH;;AAEKiB,EAAAA,MAAM,GAAE;AACN,QAAI,KAAKxB,KAAL,CAAWO,WAAX,KAA2B,IAA/B,EAAoC;AAClCkB,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0B,KAAK1B,KAAL,CAAWO,WAArC;AACA,aAAO,oBAAE,QAAF;AAAW,QAAA,EAAE,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AAED,WACE;AAAK,MAAA,KAAK,EAAE;AAACoB,QAAAA,QAAQ,EAAC,UAAV;AAAsBC,QAAAA,GAAG,EAAE,KAA3B;AAAkCC,QAAAA,KAAK,EAAC;AAAxC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAGE;AAAK,MAAA,KAAK,EAAC,WAAX;AAAuB,MAAA,KAAK,EAAE;AAACC,QAAAA,SAAS,EAAC,KAAX;AAAkBC,QAAAA,UAAU,EAAC;AAA7B,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,MAAM,EAAC;AAAR,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEA,oBAAC,GAAD;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,cAAc,EAAC;AAAhB,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAY,MAAA,EAAE,EAAE,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,KAAK,EAAE;AAACC,QAAAA,YAAY,EAAC,KAAd;AAAqBC,QAAAA,SAAS,EAAC;AAA/B,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,gBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,OAAnB;AAA2B,MAAA,QAAQ,EAAGC,CAAD,IAAM,KAAKjB,QAAL,CAAc;AAACd,QAAAA,WAAW,EAAE+B,CAAC,CAACC,MAAF,CAASC;AAAvB,OAAd,CAA3C;AACA,MAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWK,WADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,EAOE,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,mBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,UAAnB;AAA8B,MAAA,QAAQ,EAAG+B,CAAD,IAAM,KAAKjB,QAAL,CAAc;AAACb,QAAAA,cAAc,EAAE8B,CAAC,CAACC,MAAF,CAASC;AAA1B,OAAd,CAA9C;AACA,MAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWM,cADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAPF,CAFJ,EAeM,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAACiC,QAAAA,eAAe,EAAC,SAAjB;AAA4BC,QAAAA,MAAM,EAAC;AAAnC,OAAf;AAA2D,MAAA,OAAO,EAAC,WAAnE;AAA+E,MAAA,OAAO,EAAE,KAAKzC,kBAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAfN,CADA,EAqBA,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAY,MAAA,EAAE,EAAE,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,KAAK,EAAE;AAACmC,QAAAA,YAAY,EAAC,KAAd;AAAqBC,QAAAA,SAAS,EAAC;AAA/B,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACF,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADE,EAEF,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,MAAnB;AAA0B,MAAA,QAAQ,EAAGC,CAAD,IAAM,KAAKjB,QAAL,CAAc;AAAClB,QAAAA,gBAAgB,EAAEmC,CAAC,CAACC,MAAF,CAASC;AAA5B,OAAd,CAA1C;AACA,MAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWC,gBADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFE,CADF,EAMA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADA,EAEA,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,MAAnB;AAA0B,MAAA,QAAQ,EAAGmC,CAAD,IAAM,KAAKjB,QAAL,CAAc;AAAEjB,QAAAA,eAAe,EAAEkC,CAAC,CAACC,MAAF,CAASC;AAA5B,OAAd,CAA1C;AACA,MAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWE,eADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CANA,CADF,CADA,EAgBA,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,OAAnB;AAA2B,MAAA,QAAQ,EAAGkC,CAAD,IAAM,KAAKjB,QAAL,CAAc;AAAChB,QAAAA,YAAY,EAAEiC,CAAC,CAACC,MAAF,CAASC;AAAxB,OAAd,CAA3C;AACA,MAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWG,YADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAhBA,EAsBA,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,UAAnB;AAA8B,MAAA,QAAQ,EAAGiC,CAAD,IAAM,KAAKjB,QAAL,CAAc;AAACf,QAAAA,eAAe,EAAEgC,CAAC,CAACC,MAAF,CAASC;AAA3B,OAAd,CAA9C;AACA,MAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWI,eADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAtBA,CAFJ,EA8BI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAACmC,QAAAA,eAAe,EAAC,SAAjB;AAA4BC,QAAAA,MAAM,EAAC;AAAnC,OAAf;AAA2D,MAAA,OAAO,EAAC,WAAnE;AAA+E,MAAA,OAAO,EAAE,KAAK3C,kBAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBA9BJ,CArBA,CAFA,CAHF,CADF;AAgEE;;AAzHyB;;AA4HnC,SAAS4C,kBAAT,CAA4BC,QAA5B,EAAqC;AACnC,SAAM;AACJrB,IAAAA,YAAY,EAAE,UAASJ,IAAT,EAAeV,WAAf,EAA2B;AACvCmC,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAAE,QAAP;AAAiBC,QAAAA,UAAU,EAAE3B,IAA7B;AAAmCV,QAAAA;AAAnC,OAAD,CAAR;AACD;AAHG,GAAN;AAKD;;AAED,eAAef,OAAO,CACpB,IADoB,EAEpBiD,kBAFoB,CAAP,CAGb/C,KAHa,CAAf","sourcesContent":["import React from 'react';\nimport { Button,   Col, Row, Form} from 'react-bootstrap';\nimport '../App.css';\nimport Navbar from './Navbar';\nimport {Redirect } from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport ip from './ip'\n\n\nclass Login extends React.Component{\n    constructor(){\nsuper();\nthis.handleSubmitSignUp = this.handleSubmitSignUp.bind(this);\nthis.handleSubmitSignIn = this.handleSubmitSignIn.bind(this)\nthis.state = {\n     newUserFirstName:'',\n     newUserLastName: '',\n     newUserEmail: '',\n     newUserPassword: '',\n      SignInEmail:'',\n      SignInPassword:'',\n      isUserExist: false,\n    }\n}\n\n  handleSubmitSignUp(){\n    let ctx = this\n    fetch(`${ip}/users/sign-up`,{\n    method:\"POST\",\n    headers: {'Content-Type':'application/x-www-form-urlencoded'},\n    body:`first_name=${this.state.newUserFirstName}&last_name=${this.state.newUserLastName}&email=${this.state.newUserEmail}&password=${this.state.newUserPassword}`\n    })\n    .then(function(response, err){\n      return response.json();\n    }).then(data=>{\n      if (data.isUserExists === false ){\n        ctx.setState({isUserExist: true});\n      }\n    ctx.props.onSiginClick(data.user, this.state.isUserExist)\n    });\n  }\n\n\n    handleSubmitSignIn(){   \n      let ctx = this;     \n    fetch(`${ip}/users/sign-in`,{\n    method:\"POST\",\n    headers: {'Content-Type':'application/x-www-form-urlencoded'},\n    body: `email=${this.state.SignInEmail}&password=${this.state.SignInPassword}`\n  })\n  .then(function(response, err){\n    return response.json();\n  }).then(data=>{\n      if (data.isUserExists === true ){\n        ctx.setState({isUserExist: true});\n      }\n      ctx.props.onSiginClick(data.userExists, this.state.isUserExist)\n    });\n}\n\n      render(){\n        if (this.state.isUserExist === true){\n          console.log(\"CONDITION:\", this.state.isUserExist)\n          return < Redirect to=\"/\" />\n        }\n        \n        return(\n          <div style={{position:\"absolute\", top: \"0px\", width:\"100%\"}}>\n          <Navbar/>\n\n            <div class=\"container\" style={{marginTop:'5em', fontFamily:\"Raleway\"}}>\n              <div style={{height:\"10em\"}}></div>\n            <Row style={{justifyContent:\"space-around\"}}>\n            <Col lg={5} xs={11}>\n              <h3 style={{marginBottom:\"2em\", textAlign:'center'}}>Se connecter</h3>\n                <Form>\n                  <Form.Group controlId=\"formBasicEmail\">\n                    <Form.Label>Email</Form.Label>\n                    <Form.Control type=\"email\" onChange={(e)=> this.setState({SignInEmail: e.target.value})}\n                    value={this.state.SignInEmail} />\n                  </Form.Group>\n\n                  <Form.Group controlId=\"formBasicPassword\">\n                    <Form.Label>Mot de passe</Form.Label>\n                    <Form.Control type=\"password\" onChange={(e)=> this.setState({SignInPassword: e.target.value})} \n                    value={this.state.SignInPassword} />\n                  </Form.Group>\n                </Form>\n                  <Button style={{backgroundColor:\"#1B263B\", border:\"none\"}} variant=\"secondary\" onClick={this.handleSubmitSignIn}>\n                    Se Connecter\n                  </Button>\n            </Col>\n\n            <Col lg={5} xs={11}>              \n              <h3 style={{marginBottom:\"2em\", textAlign:'center'}}>S'inscrire</h3>\n                <Form>\n                <Form.Group >\n                  <Row>\n                    <Col>\n                  <Form.Label>Prénom </Form.Label>\n                  <Form.Control type=\"text\" onChange={(e)=> this.setState({newUserFirstName: e.target.value})}\n                  value={this.state.newUserFirstName} />\n                  </Col>\n                  <Col>\n                  <Form.Label>Nom</Form.Label>\n                  <Form.Control type=\"text\" onChange={(e)=> this.setState({ newUserLastName: e.target.value})}\n                  value={this.state.newUserLastName} />\n                  </Col>\n                  </Row>\n                </Form.Group>\n\n                <Form.Group >\n                  <Form.Label>Email</Form.Label>\n                  <Form.Control type=\"email\" onChange={(e)=> this.setState({newUserEmail: e.target.value})}\n                  value={this.state.newUserEmail} />\n                </Form.Group>\n\n                <Form.Group>\n                  <Form.Label>Mot de passe</Form.Label>\n                  <Form.Control type=\"password\" onChange={(e)=> this.setState({newUserPassword: e.target.value})} \n                  value={this.state.newUserPassword} />\n                </Form.Group>\n              </Form>\n                <Button style={{backgroundColor:\"#1B263B\", border:\"none\"}} variant=\"secondary\" onClick={this.handleSubmitSignUp}>\n                  S'inscrire\n              </Button>\n            </Col>\n            </Row>\n            </div>\n          </div>\n        )}\n}\n\nfunction mapDispatchToProps(dispatch){\n  return{\n    onSiginClick: function(data, isUserExist){\n      dispatch({type: 'signin', userSigned: data, isUserExist })\n    }\n  }\n}\n\nexport default connect (\n  null,\n  mapDispatchToProps\n)(Login)"]},"metadata":{},"sourceType":"module"}