{"ast":null,"code":"var _jsxFileName = \"/home/lea/Desktop/mon-app/src/components/Profil.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport Footer from './Footer';\nimport { Card, Form, Row, Col, Button, Modal } from 'react-bootstrap';\nimport ip from './ip';\nconst titre = {\n  fontWeight: \"bold\"\n};\nlet modalStyle = {\n  width: \"50em\",\n  backgroundColor: \"white\",\n  fontFamily: \"Raleway\"\n};\n\nclass Profil extends Component {\n  constructor(props) {\n    super(props);\n    this.handleShow = this.handleShow.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleSubmitUpdate = this.handleSubmitUpdate.bind(this);\n    this.state = {\n      id: this.props.userSigned._id,\n      first_name: this.props.userSigned.first_name,\n      last_name: this.props.userSigned.last_name,\n      email: this.props.userSigned.email,\n      address: this.props.userSigned.address,\n      zipcode: this.props.userSigned.zip_code,\n      city: this.props.userSigned.city,\n      details: this.props.userSigned.details,\n      show: false\n    };\n  }\n\n  handleShow() {\n    this.setState({\n      show: true\n    });\n  }\n\n  handleClose() {\n    this.setState({\n      show: false\n    });\n  }\n\n  handleSubmitUpdate() {\n    let ctx = this;\n    this.setState({\n      show: false\n    });\n    fetch(`${ip}/users/update-info`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `id=${this.state.id}&first_name=${this.state.first_name}&last_name=${this.state.last_name}&email=${this.state.email}&address=${this.state.address}&zipcode=${this.state.zipcode}&city=${this.state.city}&details=${this.state.details}`\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      console.log(data);\n      ctx.setState({\n        first_name: data.thisUser.first_name,\n        last_name: data.thisUser.last_name,\n        email: data.thisUser.email,\n        address: data.thisUser.address,\n        zipcode: data.thisUser.zip_code,\n        city: data.thisUser.city,\n        details: data.thisUser.details\n      });\n    });\n  }\n\n  render() {\n    console.log(\"USER\", this.props.connected);\n\n    if (this.props.connected === false || this.props.connected === null) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        fontFamily: \"Raleway\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        height: \"8em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(Card, {\n      className: \"col-xl-5 col-sm-8  col-xs-11 mx-auto\",\n      style: {\n        marginTop: \"8em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        textAlign: \"center\",\n        fontSize: \"3em\",\n        marginTop: '1em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Ton Profil\"), React.createElement(\"div\", {\n      style: {\n        height: \"1em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        fontSize: '1.8em',\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Salut \", this.props.userSigned.first_name, \" !\"), React.createElement(\"div\", {\n      style: {\n        marginTop: \"3em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-8 border\",\n      style: {\n        margin: \"auto\",\n        padding: \"2em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Voil\\xE0 tes infos :\"), React.createElement(\"div\", {\n      style: {\n        fontSize: \"1.2em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \" \", React.createElement(\"span\", {\n      style: titre,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Nom:\"), \" \", this.props.userSigned.first_name, \" \", this.props.userSigned.last_name, \" \"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \" \", React.createElement(\"span\", {\n      style: titre,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Adresse e-mail:\"), \" \", this.props.userSigned.email), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: titre,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Adresse postale:\")), this.props.userSigned.address, this.state.zipcode != null ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, this.state.zipcode, \", \", this.state.city, \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), this.state.details, \" \") : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Button, {\n      style: {\n        backgroundColor: \"#1B263B\",\n        border: \"none\"\n      },\n      onClick: this.handleShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Modifier\"))))), React.createElement(Modal, {\n      show: this.state.show,\n      onHide: this.handleClose,\n      className: \"col-lg-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: modalStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Modifier mes informations\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Pr\\xE9nom \"), React.createElement(Form.Control, {\n      type: \"text\",\n      onChange: e => this.setState({\n        first_name: e.target.value\n      }),\n      value: this.state.first_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Nom\"), React.createElement(Form.Control, {\n      type: \"text\",\n      onChange: e => this.setState({\n        last_name: e.target.value\n      }),\n      value: this.state.last_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })))), React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Email\"), React.createElement(Form.Control, {\n      type: \"email\",\n      onChange: e => this.setState({\n        email: e.target.value\n      }),\n      value: this.state.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Adresse\"), React.createElement(Form.Control, {\n      type: \"text\",\n      onChange: e => this.setState({\n        address: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    })), React.createElement(Col, {\n      sm: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"B\\xE2timent, \\xE9tage ...\"), React.createElement(Form.Control, {\n      type: \"text\",\n      onChange: e => this.setState({\n        details: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    })))), React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Code postal\"), React.createElement(Form.Control, {\n      type: \"text\",\n      onChange: e => this.setState({\n        zipcode: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    })), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Ville\"), React.createElement(Form.Control, {\n      type: \"text\",\n      onChange: e => this.setState({\n        city: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })))), React.createElement(Button, {\n      style: {\n        backgroundColor: \"#1B263B\",\n        border: \"none\"\n      },\n      onClick: this.handleSubmitUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Enregistrer\")))))), React.createElement(\"div\", {\n      style: {\n        height: \"6em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      style: {\n        height: \"8em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    })));\n  }\n\n}\n\nfunction mapStatetoProps(state) {\n  return {\n    connected: state.user.isUserExist,\n    userSigned: state.user.userSigned\n  };\n}\n\nexport default connect(mapStatetoProps, null)(Profil);","map":{"version":3,"sources":["/home/lea/Desktop/mon-app/src/components/Profil.js"],"names":["React","Component","connect","Redirect","Navbar","Footer","Card","Form","Row","Col","Button","Modal","ip","titre","fontWeight","modalStyle","width","backgroundColor","fontFamily","Profil","constructor","props","handleShow","bind","handleClose","handleSubmitUpdate","state","id","userSigned","_id","first_name","last_name","email","address","zipcode","zip_code","city","details","show","setState","ctx","fetch","method","headers","body","then","response","json","data","console","log","thisUser","render","connected","height","marginTop","textAlign","fontSize","margin","padding","border","e","target","value","mapStatetoProps","user","isUserExist"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport { connect } from 'react-redux';\nimport {Redirect} from 'react-router-dom'\nimport Navbar from './Navbar'\nimport Footer from './Footer'\nimport {Card, Form, Row, Col, Button, Modal} from 'react-bootstrap'\nimport ip from './ip'\n\nconst titre={\n  fontWeight:\"bold\"\n}\n\nlet modalStyle={\n  width:\"50em\",\n  backgroundColor: \"white\",\n  fontFamily: \"Raleway\"\n}\n\nclass Profil extends Component{\n  constructor(props){\n    super(props);\n    this.handleShow = this.handleShow.bind(this)\n    this.handleClose = this.handleClose.bind(this)\n    this.handleSubmitUpdate = this.handleSubmitUpdate.bind(this)\n    this.state={\n      id:this.props.userSigned._id,\n      first_name: this.props.userSigned.first_name ,\n      last_name: this.props.userSigned.last_name,\n      email: this.props.userSigned.email,\n      address: this.props.userSigned.address,\n      zipcode: this.props.userSigned.zip_code,\n      city: this.props.userSigned.city,\n      details: this.props.userSigned.details,\n      show: false,\n    }\n  }\n\n\n  handleShow(){\n    this.setState({show:true})\n  }\n  \n  handleClose(){\n    this.setState({show: false})\n  }\n\n  handleSubmitUpdate(){\n    let ctx = this;\n    this.setState({show: false})\n    fetch(`${ip}/users/update-info`, {\n      method: 'POST',\n      headers: {'Content-Type':'application/x-www-form-urlencoded'},\n      body: `id=${this.state.id}&first_name=${this.state.first_name}&last_name=${this.state.last_name}&email=${this.state.email}&address=${this.state.address}&zipcode=${this.state.zipcode}&city=${this.state.city}&details=${this.state.details}`\n    })\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(data){\n      console.log(data)\n      ctx.setState({\n      first_name: data.thisUser.first_name ,\n      last_name: data.thisUser.last_name,\n      email: data.thisUser.email,\n      address: data.thisUser.address,\n      zipcode: data.thisUser.zip_code,\n      city: data.thisUser.city,\n      details: data.thisUser.details\n      })\n    })\n  }\n\n\n  render(){\n    console.log(\"USER\", this.props.connected)\n    if (this.props.connected === false || this.props.connected === null){\n      return <Redirect to=\"/\" />\n    }\n\n    return(\n      <div>\n        <div style={{fontFamily:\"Raleway\"}}>\n          <Navbar/>\n          <div >\n          <div style={{height:\"8em\"}}></div>\n          <Card className=\"col-xl-5 col-sm-8  col-xs-11 mx-auto\"  style={{marginTop:\"8em\"}}>\n          <h2 style={{textAlign:\"center\", fontSize:\"3em\", marginTop:'1em'}}>Ton Profil</h2>\n          <div style={{height:\"1em\"}}></div>\n            <div>\n              <div style={{fontSize:'1.8em', textAlign:'center'}} >Salut {this.props.userSigned.first_name} !</div>\n              <div style={{marginTop: \"3em\"}}>\n                <div className=\"col-8 border\" style={{margin:\"auto\", padding:\"2em\"}}>\n                  <h4 style={{textAlign:\"center\"}} >Voilà tes infos :</h4>\n                  <div style={{fontSize:\"1.2em\"}}>\n                    <div> <span style={titre}>Nom:</span> {this.props.userSigned.first_name} {this.props.userSigned.last_name} </div>\n                    <div> <span style={titre}>Adresse e-mail:</span> {this.props.userSigned.email}</div>\n                      <div><span style={titre}>Adresse postale:</span></div>\n                      \n                     {this.props.userSigned.address}\n                     {this.state.zipcode != null?(\n                       <div>{this.state.zipcode}, {this.state.city} <br/>\n                       {this.state.details} </div>\n                     ):(\n                      <div></div>\n                     )}\n                     <br/>\n                     <div style={{textAlign:\"center\"}}>\n                      <Button style={{backgroundColor:\"#1B263B\", border:\"none\"}}  onClick={this.handleShow}>Modifier</Button>\n                    </div>\n               </div>\n                 </div>\n              </div>\n\n\n              <Modal show={this.state.show} onHide={this.handleClose} className=\"col-lg-10\" >\n         <div style={modalStyle}>\n          <Modal.Header closeButton>\n            <Modal.Title>Modifier mes informations</Modal.Title>\n            </Modal.Header>\n              <Modal.Body>\n                <Form >\n                  <Form.Group >\n                    <Row>\n                      <Col>\n                    <Form.Label>Prénom </Form.Label>\n                    <Form.Control type=\"text\" onChange={(e)=> this.setState({first_name: e.target.value})}\n                    value={this.state.first_name} />\n                    </Col>\n                    <Col>\n                    <Form.Label>Nom</Form.Label>\n                    <Form.Control type=\"text\" onChange={(e)=> this.setState({ last_name: e.target.value})}\n                    value={this.state.last_name} />\n                      </Col>\n                    </Row>\n                  </Form.Group>\n\n                  <Form.Group >\n                    <Form.Label>Email</Form.Label>\n                    <Form.Control type=\"email\" onChange={(e)=> this.setState({email: e.target.value})}\n                    value={this.state.email} />\n                  </Form.Group>\n\n                  <Form.Group>\n                    <Row>\n                      <Col sm={6}>\n                        <Form.Label>Adresse</Form.Label>\n                        <Form.Control type=\"text\" onChange={(e)=> this.setState({address: e.target.value})}  />\n                      </Col>\n                      <Col sm={6}>\n                        <Form.Label>Bâtiment, étage ...</Form.Label>\n                        <Form.Control type=\"text\" onChange={(e)=> this.setState({details: e.target.value})}  />\n                      </Col>\n                    </Row>\n                  </Form.Group>\n\n                  <Form.Group >\n                    <Row>\n                      <Col>\n                    <Form.Label>Code postal</Form.Label>\n                    <Form.Control type=\"text\" onChange={(e)=> this.setState({zipcode: e.target.value})} />\n                  </Col>\n                  <Col>\n                    <Form.Label>Ville</Form.Label>\n                    <Form.Control type=\"text\" onChange={(e)=> this.setState({city: e.target.value})} />\n                    </Col>\n                    </Row>\n                  </Form.Group>\n\n                  <Button style={{backgroundColor:\"#1B263B\", border:\"none\"}} onClick={this.handleSubmitUpdate}>\n                    Enregistrer\n                </Button>\n                </Form>\n  \n                </Modal.Body>\n         </div>\n       </Modal>\n\n            </div>\n            <div style={{height:\"6em\"}}></div>\n            </Card>\n            </div>\n            <div style={{height:\"8em\"}}></div>\n          <Footer/>\n        </div>     \n      </div>\n    )\n  }\n}\n\nfunction mapStatetoProps(state){\n  return  {connected: state.user.isUserExist,\n          userSigned: state.user.userSigned,\n        }\n}\n\nexport default connect(\n  mapStatetoProps,\n  null\n  )(Profil);\n\n"]},"metadata":{},"sourceType":"module"}